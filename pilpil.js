/**
* Pilpil v2.0.0 - Progressive Image Loading
* @link https://zafree.github.io/pilpil/
* @copyright 2015-2024 Zafree <zafree@live.com>
* @license MIT
*/
(function(){class h{constructor(a,e){this.image=e,this.element=a,a.width=e.width,a.height=e.height,this.context=a.getContext("2d"),this.context.drawImage(e,0,0)}blur(a){this.context.globalAlpha=.5;for(var e=-a;e<=a;e+=2)for(var i=-a;i<=a;i+=2)this.context.drawImage(this.element,i,e),i>=0&&e>=0&&this.context.drawImage(this.element,-(i-1),-(e-1))}}function g(t){var a=t.dataset.width,e=t.dataset.height,i=e/a*100,l=document.createElement("div");l.className="image__aspect-ratio",t.appendChild(l).setAttribute("style","padding-bottom:"+i+"%;"),t.setAttribute("style","max-width:"+a+"px;max-height:"+e+"px;")}function o(t){var a=t.dataset.width,e=t.dataset.height,i=t.dataset.small,l=30,u=e/a*l,d=document.createElement("canvas");d.className="image__canvas",t.appendChild(d);var n=t.appendChild(d);n.getContext("2d"),n.height=u,n.width=l;var s=new Image;s.src=i,s.onload=function(){var v=new h(n,s);v.blur(2),t.classList.add("canvas--loaded")}}function c(t){window.addEventListener("load",function(){var a=t.dataset.large,e=t.dataset.alt,i=new Image;t.appendChild(i),i.className="image__original",i.src=a,t.classList.add("image--loading"),i.onload=function(){t.classList.add("image--loaded"),t.classList.remove("image--loading"),i.alt=e}})}function r(t){var a=t.getAttribute("data-width"),e=t.getAttribute("data-height"),i=t.getAttribute("data-small"),l=t.getAttribute("data-large");return t.getAttribute("data-alt"),a!==""&&a!==null&&e!==""&&e!==null&&i!==""&&i!==null&&l!==""&&l!==null}function m(){for(var t=document.querySelectorAll(".image"),a=0;a<t.length;a++)r(t[a]),r(t[a])&&(g(t[a]),o(t[a]),c(t[a]))}m()})();
