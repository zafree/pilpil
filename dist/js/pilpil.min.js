/**
 * Pilpil v1.0.0 - Progressive Image Loading
 * @link https://zafree.github.io/pilpil
 * @copyright 2015-2023 Zafree
 * @license MIT
 */!function(){"use strict";var l=function(t,e){this.image=e,(this.element=t).width=e.width,t.height=e.height,this.context=t.getContext("2d"),this.context.drawImage(e,0,0)};function t(t){var e=t.getAttribute("data-width"),a=t.getAttribute("data-height"),i=t.getAttribute("data-small"),n=t.getAttribute("data-large");t.getAttribute("data-alt");return""!==e&&null!==e&&""!==a&&null!==a&&""!==i&&null!==i&&""!==n&&null!==n}l.prototype={blur:function(t){this.context.globalAlpha=.5;for(var e=-t;e<=t;e+=2)for(var a=-t;a<=t;a+=2){this.context.drawImage(this.element,a,e);0<=a&&0<=e&&this.context.drawImage(this.element,-(a-1),-(e-1))}}};for(var e,a,i,n,d,s=document.querySelectorAll(".image"),o=0;o<s.length;o++)t(s[o]),t(s[o])&&(e=s[o],d=n=i=a=void 0,a=e.dataset.width,i=e.dataset.height,n=i/a*100,(d=document.createElement("div")).className="image__aspect-ratio",e.appendChild(d).setAttribute("style","padding-bottom:"+n+"%;"),e.setAttribute("style","max-width:"+a+"px;max-height:"+i+"px;"),function(t){var e=t.dataset.width,a=t.dataset.height,i=t.dataset.small,a=a/e*30,n=((e=document.createElement("canvas")).className="image__canvas",t.appendChild(e),t.appendChild(e)),d=(n.getContext("2d"),n.height=a,n.width=30,new Image);d.src=i,d.onload=function(){new l(n,d).blur(2),t.classList.add("canvas--loaded")}}(s[o]),function(i){window.addEventListener("load",function(){var t=i.dataset.large,e=i.dataset.alt,a=new Image;i.appendChild(a),a.className="image__original",a.src=t,i.classList.add("image--loading"),a.onload=function(){i.classList.add("image--loaded"),i.classList.remove("image--loading"),a.alt=e}})}(s[o]))}();